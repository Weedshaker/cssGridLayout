<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>cssGridLayoutJS</title>
</head>

<body>
  <script rel="modulepreload" type="module">
    import Setup from './JavaScript/Classes/Controller/Setup.js'

    /* temp */
    import { ProxifyHook } from 'https://cdn.jsdelivr.net/npm/@weedshaker/proxifyjs/JavaScript/Classes/Helper/ProxifyHook.js'
      import { Proxify } from 'https://cdn.jsdelivr.net/npm/@weedshaker/proxifyjs/JavaScript/Classes/Handler/Proxify.js'
      import { Chain } from 'https://cdn.jsdelivr.net/npm/@weedshaker/proxifyjs/JavaScript/Classes/Traps/Misc/Chain.js'
      import { Css } from 'https://cdn.jsdelivr.net/npm/@weedshaker/proxifyjs/JavaScript/Classes/Traps/Dom/Css.js'
      import { Html } from 'https://cdn.jsdelivr.net/npm/@weedshaker/proxifyjs/JavaScript/Classes/Traps/Dom/Html.js'
    /* /temp */

    class Index {
      constructor() {
        this.interact = new Setup()

        /* temp */
        const __ = new ProxifyHook(Html(Css(Chain(Proxify())))).get()
        const minSize = 100
        const defaultZIndex = 100
        // body is required and css can be reset after detaching
        const body = __(document.getElementsByTagName('body')[0])
          .$css(`{
            overflow: scroll;
          }`, 'body')
          .$css([
            `{
              background: GhostWhite;
              display: grid;
              grid-auto-columns: minmax(${minSize}px, 1fr);
              grid-auto-flow: dense;
              grid-auto-rows: minmax(${minSize}px, 1fr);
              grid-gap: unset;
              overflow: scroll;
            }`,
            `>*:not(script):not(style):not(.overlay){
              background-color: rgba(166, 211, 225, .6);
              box-shadow: -1px -1px rgba(9, 9, 246, .3) inset;
              display: grid;
              grid-template-columns: 1fr 2px;
              grid-template-rows: 1fr 2px;
              z-index: ${defaultZIndex};
              touch-action: none;
              box-sizing: border-box;
            }`,
            `>*:not(script):not(style):not(.overlay).dragged{
              background-color: rgba(218, 248, 218, .6);
            }`,
            `>:before{
              content: '';
              background-color: blue;
              grid-area: 1 / 2 / span 2 / span 1;
              cursor: col-resize;
            }`,
            `>*:after{
              content: '';
              background-color: blue;
              grid-area: 2 / 1 / span 1 / span 2;
              cursor: row-resize
            }`
          ], 'grid')
          .$appendChildren([
            __('span'),
            __('span'),
            __('span'),
            __('span'),
            __('span'),
            __('span'),
            __('span')
          ])
          /* /temp */

          this.interact.start('drag', body)
      }
    }
    new Index()
  </script>
</body>

</html>